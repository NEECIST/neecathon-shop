<section id="store" class="page">
    <div class="page-header-wrapper" style="margin-top: 68px">
        <div class="container">
            <div class="page-header text-center">
                <h2>Compras</h2>
            </div>
        </div>
    </div>
    <div class="brand-coin" *ngIf="loggedin==true" [hidden]="submitted">
        <img src="../../../../assets/images/coin64.png" width="64" height="64" class="d-inline-block align-top"> {{team.cash}} Neecoins
    </div>
    <div class="box-wrapper" [hidden]="submitted">
        <form class="form-inline" (ngSubmit)="onSubmit()">
            <div class="row mb-30">
                <div class="container">
                 <div class="col-md-3 col-sm-6 mt-30" *ngFor="let product of products">
                        <div style="border: 3px solid gray;">
                           <div class="desc-container" style="width:249px;height: 249px">
                              <div class="desc h-100 w-100 d-none">
                                 <p>{{product.description}}</p>
                                </div>
                              <img class="w-100 h-100 desc-img" src="{{product.image_path}}" alt="{{product.name}}">
                          </div>
                           <p class="text-center">{{product.name}} <p>P:{{product.price}}  Q:{{product.quantity}}</p></p>
                     </div>
                     <div class="d-flex">
                         <div class="col-xs-9 p-0">
                               <button class="w-100 buybtn" type="submit" (click)="PurchaseSetup(product)">Comprar</button>
                            </div>
                           <div class="col-xs-3 p-0">
                              <input class="w-100 h-100" type="number" min="1" [(ngModel)]="purchase.quantity">
                          </div>
                      </div>
                 </div>
             </div>
            </div>
        </form>
    </div>
    <div [hidden]="!submitted">
        <div *ngIf="success==true">
            <div class="alert alert-success" role="alert">
                Compra realizada com sucesso!
            </div>
            <button (click)="submitted=false" class="btn btn-primary">Realizar outra Compra</button>
        </div>
        <div *ngIf="success==false">
            <div class="alert alert-danger" role="alert">
                Erro durante a compra.Motivo:{{out}}.
            </div>
            <button (click)="submitted=false" class="btn btn-primary">Refazer</button>
        </div>
    </div>

</section>

